
VLAN Testing
============

A Virtual LAN is a group of hosts that communicate with each other, even if they reside in physically different locations. VLAN is based on Layer 2 Data Link layer. Its primary purpose is for traffic management, not security.

Some issues present:
  1. ARP Attack - malicious user is able to use a forged IP Address and MAC Address to transmit ARP packets to a device in a different VLAN, or conduct a MiTM attack. Tools used for ARP spoofing include: Arpspoof, Apoison, Cain and Abel, and Ettercap.
    * A countermeasure to ARP attacks is Dynamic ARP Inspection (DAI), which validates all ARP packets in a network. It discards ARP packets with invalid IP and MAC Addresses.

  2. MAC Flooding Attack - The switch is flooded with packets of different MAC Addresses, therefore consuming the switch's memory, and often forcing it to downgrade to acting like a "hub" instead, sharing data with all ports.

  3. DHCP Attack - Sending DHCP requests with spoofed MAC Address, causing a DOS at the DHCP server. This can be avoided by limiting th enumber of MAC address.

  4. Spanning Tree Protocol Attack - An STP attack is when a malicious user sends an STP message with a priority zero value, thus making a new root bridge and compromising the entire network. It can be avoided by disabling the spanning-tree function to the entire user interface. Another way is to enable root guard on Cisco devices or BPDU guard on user's port to disable Priority Zero value and prevent a malicious user from gaining the root bridge.

  5. Multicast Brute Force Attack

  6. Private VLAN Attack

  7. VMPS/VQP Attack

  8. VLAN Hopping Attack
     * Switch Spoofing
     * Double Tagging


  9. Double-Encapsulated 802.1Q

  10. Random Frame Stress Attack




## Tools

  * frogger - https://github.com/nccgroup/vlan-hopping---frogger
  * VoIPHopper - comes with Kali

